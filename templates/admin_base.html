<!DOCTYPE html>
<html lang="pt">
<head>
    {% load staticfiles %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Gustavo Tonietto @tonietto">
    {# <link rel="icon" href="../../favicon.ico"> #}
    <title>{% block title %}Home{% endblock %} | Admin</title>
    <link href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" media="screen">
    <link href="{% static 'bootstrap/css/custom.css' %}" rel="stylesheet" media="screen">
    <link href="{% static 'jasny-bootstrap/css/jasny-bootstrap.min.css' %}" rel="stylesheet" media="screen">
    <link href="{% static 'jasny-bootstrap/css/custom.css' %}" rel="stylesheet" media="screen">
    {% block extrastyle %}{% endblock %}
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    {% block extrahead %}{% endblock %}
</head>

<body>

    <nav class="navbar navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Palestra Teste</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse navbar-right">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>{# /.nav-collapse #}
        </div>
    </nav>

    <nav class="navmenu navmenu-default navmenu-fixed-left">
        <ul class="nav navmenu-nav">
            <li class="active"><a href="../admin/"><i class="icon-home navmenu-icon"></i> Sobre o FutureMaster</a></li>
            <li><a href="../dashboard/"><i class="icon-velocimetro navmenu-icon"></i> Dashboard</a></li>
            <li><a href="../formularios/"><i class="icon-lapis navmenu-icon"></i> Formulários</a></li>
            <li><a href="../tabelas/"><i class="icon-tabela navmenu-icon"></i> Tabelas</a></li>
            <li><a href="../graficos/"><i class="icon-grafico navmenu-icon"></i> Gráficos</a></li>
            <li><a href="../javascript/"><i class="icon-engrenagem navmenu-icon"></i> Javascript</a></li>
            <li><a href="../slider/"><i class="icon-flamula-03 navmenu-icon"></i> Slider</a></li>
        </ul>
        <hr />
        <ul class="nav navmenu-nav">
            <li><a href="http://www.futurecom.com.br/admin"><i class="icon-futurecom navmenu-icon"></i> FutureAdmin</a></li>
        </ul>
        <div class="nav navmenu-nav visible-xs visible-sm">
            <hr />
            <p class="navmenu-text">Logado como <a href="#" class="btn btn-xs btn-labeled btn-default ">Marilene<span class="btn-label btn-label-right"><i class="icon-xis"></i></span></a></p>
        </div>
    </nav>

    <div class="canvas container-fluid">

        <div class="row">
            <div class="col-xs-12">
                {% block content %}{% endblock%}
            </div>{# /.col #}
        </div>{# /.row #}

    </div>{# /.container/#wrapper #}

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
    <script>
        //Django
        $(".errorlist").each(function(){
            $(this).addClass("text-danger")
        })

        // RESPONSIVE FEATURES //
        function responsiveFeatures(){
            ($(window).width() <= 720) ? $(".btn-block-xs").addClass("btn-block") : $(".btn-block-xs").removeClass("btn-block"); // Button Block XS
            ($(window).width() >= 920) ? $(".navbar-toggle").attr("data-canvas", "body") : $(".navbar-toggle").attr("data-canvas", ""); // Navbar Toggle
            ($(window).width() >= 1200) ? $(".navmenu").removeClass("offcanvas") : $(".navmenu").addClass("offcanvas"); tooltipNavmenu(); // Navmenu Show or Hide
            if ( ($(window).width() < 1200) || ($(window).width() >= 1500) ) {
                $(".navmenu a").tooltip("destroy");
            } else {
                $(".navmenu a").tooltip();
            };;
        }

        function tooltipNavmenu() {
            $(".navmenu a").each(function(){
                var thisText = $(this).text();
                $(this).attr("data-placement", "right");
                $(this).attr("data-container", "body");
                $(this).attr("title", thisText);
            });
        }
        // ./RESPONSIVE FEATURES //

        // IDIOMA //
        function detectLanguage(){
            var language = $("html").attr("lang");

            switch(language) {
                case "es":
                $(".lang-en, .lang-pt").hide();
                $(".lang-es").show();
                $("#btn-en, #btn-pt").removeClass("active");
                $("#btn-es").addClass("active");
                break;

                case "pt":
                $(".lang-en, .lang-es").hide();
                $(".lang-pt").show();
                $("#btn-en, #btn-es").removeClass("active");
                $("#btn-pt").addClass("active");
                break;

                default:
                $(".lang-en").show();
                $(".lang-es, .lang-pt").hide();
                $("#btn-en").addClass("active");
                $("#btn-es, #btn-pt").removeClass("active");
                break;
            }
        }
        // ./IDIOMA //

        $(document).ready(function(){

            detectLanguage(); // IDIOMA //
            responsiveFeatures(); // RESPONSIVE FEATURES //

            // PAGESPY //
            var str=location.href.toLowerCase();

            $(".navmenu li a").each(function() {
                if (str.indexOf(this.href.toLowerCase()) > -1) {
                    $(".navmenu li.active").removeClass("active");
                    $(this).parent().addClass("active");
                    var parentDropDown = $(this).closest('.dropdown');
                    if(parentDropDown !== undefined){
                        parentDropDown.addClass('active');
                    }
                }
            });
            $(".navbar li a").each(function() {
                if (str.indexOf(this.href.toLowerCase()) > -1) {
                    $(".navbar li.active").removeClass("active");
                    $(this).parent().addClass("active");
                    var parentDropDown = $(this).closest('.dropdown');
                    if(parentDropDown !== undefined){
                        parentDropDown.addClass('active');
                    }
                }
            });
            $(".page-spy").each(function() {
                if (str.indexOf(this.href.toLowerCase()) > -1) {
                    $(".page-spy.active").removeClass("active");
                    $(this).addClass("active");
                }
            });
            $(".page-spy").each(function() {
                if (str.indexOf(this.href.toLowerCase()) > -1) {
                    $(".page-spy.active").removeClass("active");
                    $(this).addClass("active");
                }
            });
            // ./PAGESPY //

            // BOOTSTRAP FORM VALIDATOR //
            $(function() {
                $(".validated").jqBootstrapValidation();
            });
            // ./BOOTSTRAP FORM VALIDATOR //

            // FORM ANCHOR //
            $(".field-hidden").hide();
            function fieldRevealer() {
                $(".field-revealer").each(function() {
                    var anchorId = '#' + $(this).attr("form-anchor");
                    var anchorValue = $(this).attr("form-anchor-value");
                    if ( !$(this).is("select") ) {
                        if ( $(this).is(':checked') ) {
                            $(anchorId).slideDown("fast"); //Slide Down Effect
                        } else {
                            $(anchorId).slideUp("fast");  //Slide Up Effect
                        };
                    } else {
                        if ( $(this).val() != anchorValue ) {
                            $(anchorId).slideDown("fast"); //Slide Down Effect
                        } else {
                            $(anchorId).slideUp("fast");  //Slide Up Effect
                        };
                    };
                })
            }
            fieldRevealer();
            $(".field-revealer").click(function(){
                fieldRevealer();
            });
            // ./FORM ANCHOR //
        });
        // ./Document.Ready() //

        $(window).resize(function(){
            responsiveFeatures();
        }) // ./Window.Resize() //

        // ADD SLIDEDOWN ANIMATION TO BOOTSTRAP DROPDOWN //
        $('.dropdown').on('show.bs.dropdown', function(e){
            $(this).find('.dropdown-menu').first().stop(true, true).slideDown('fast');
        });

        // ADD SLIDEUP ANIMATION TO BOOTSTRAP  DROPDOWN //
        $('.dropdown').on('hide.bs.dropdown', function(e){
            $(this).find('.dropdown-menu').first().stop(true, true).slideUp('fast');
        });

        // DATEPICKER //
        $('.datepicker-pt').datepicker({
            format: "dd/mm/yyyy",
            todayBtn: "linked",
            language: "pt-BR"
        });

        // PAGE SCROLL //
        $(function() {
            $('a.page-scroll[href*=#]:not([href=#])').click(function() {
                if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
                    var target = $(this.hash);
                    target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
                    if (target.length) {
                        $('html,body').animate({
                            scrollTop: target.offset().top - '60'
                        }, 1000);
                        return false;
                    }
                }
            });
        });
        // ./PAGE SCROLL //

        // FLOATER //
        $("#floater").not(".floater-visible").fadeOut();

        var floaterTop = $("#floater").offset().top;
        var dataFloaterMax = $("#floater").attr("data-floater-max");

        function floaterOffset() {
            if ($(".navbar").length) {
                return floaterTop - 51;
            } else {
                return floaterTop;
            };
        };
        function floaterHide() {
            if ($("#floater").hasClass("floater-visible")) {
                return null;
            } else {
                return $("#floater").fadeOut();
            };
        }
        function floaterFix() {
            if ($(".navbar").length) {
                return "floater-navbar-fixed";
            } else {
                return "floater-fixed";
            };
        }
        function floaterMaximum() {
            if (dataFloaterMax != null) {
                return dataFloaterMax;
            } else {
                return 1000000000;
            };
        }
        // ./FLOATER //

        $(window).scroll(function() {
            if ($(this).scrollTop() > floaterOffset() && $(this).scrollTop() < floaterMaximum()) {
                $("#floater").fadeIn();
                $("#floater").addClass(floaterFix());
            } else {
                floaterHide();
                $("#floater").removeClass(floaterFix());
            }
            var y = $(this).scrollTop();
            $('.list-group-item').each(function (event) {
                if (y >= $($(this).attr('href')).offset().top - 80) {
                    $('.list-group-item').not(this).removeClass('active');
                    $(this).addClass('active');
                }
            });
        });



        // EXTRAS

        $(function(){
            SyntaxHighlighter.all();
        });

        // BOOTBOX //
        bootbox.setDefaults({
          locale: "pt",
          onEscape: function() {}
        });

        $(document).ready(function() {
            new WOW().init();
            // Fancybox //
            $(".fancybox")
            .attr('rel', 'gallery')
            .fancybox({
                openEffect: 'elastic',
                closeEffect: 'elastic',
                nextEffect: 'fade',
                prevEffect: 'fade',
                padding : 0,
                margin      : [20, 60, 20, 60],
                afterLoad   : addLinks,
                beforeClose : removeLinks
            });
            function addLinks() {
                var list = $("#fancybox-links");

                if (!list.length) {
                    list = $('<ul id="fancybox-links">');

                    for (var i = 0; i < this.group.length; i++) {
                        $('<li data-index="' + i + '"><label></label></li>').click(function() { $.fancybox.jumpto( $(this).data('index'));}).appendTo( list );
                    }

                    list.appendTo( 'body' );
                }

                list.find('li').removeClass('active').eq( this.index ).addClass('active');
            }

            function removeLinks() {
                $("#fancybox-links").remove();
            }
            // ./Fancybox //

            $('#quicksand-source').quicksand( $('#quicksand li') );// Quicksand //

            // FlexSlider Scale //
            $('.flexslider').flexslider({
                pauseOnAction: true,
                pauseOnHover: true,
                useCSS: true,
                touch: true,
                pausePlay: false,
                animationLoop: true,
                animation: "slide"
            });

            var flexSliderResize = function(){

                var flexScale = $(".flexslider").width();
                var flexWidthScale = flexScale/50;
                var flexWidthScaleMin = 10;
                var flexWidthScaleMax = 48;

                if ( flexWidthScale <= flexWidthScaleMin ) {
                    flexWidthScale = flexWidthScaleMin;
                };

                if ( flexWidthScale >= flexWidthScaleMax ) {
                    flexWidthScale = flexWidthScaleMax;
                };

                var flexCaption = flexWidthScale*1;
                var flexCaptionSpan = flexWidthScale*0.5833333333;
                var flexButton = flexWidthScale*0.6666666667;
                var flexImg = flexScale*0.18;
                var flexBtnMargin = flexScale/4;

                $(".flex-caption").css("font-size", flexCaption + "pt");
                $(".flex-caption span").css("font-size", flexCaptionSpan + "pt");
                $(".flex-caption button, .flex-caption a").css("font-size", flexButton + "pt");
                $(".flexslider .slides .flex-img").css("width", flexScale + "px");
                $(".flexslider .slides .flex-img img").css("max-height", flexImg + "px");
                $(".flex-img-top-middle .flex-img-wrapper, .flex-img-middle .flex-img-wrapper, .flex-img-bottom-middle .flex-img-wrapper").each(function(){
                    var flexImgWidth = flexScale/2 - ($(this).find('img').width())/2;
                    $(this).css("left",  flexImgWidth + "px" );
                })
                $(".flex-img-middle-right .flex-img-wrapper, .flex-img-top-right .flex-img-wrapper, .flex-img-bottom-right .flex-img-wrapper").each(function(){
                    var flexImgWidth = flexScale - ($(this).find('img').width())*1.6;
                    $(this).css("left", flexImgWidth  + "px" );
                })
                $(".flex-caption-bottom-left-01 .btn, .flex-caption-bottom-left-02 .btn, .flex-caption-middle-left .btn, .flex-caption-top-left .btn").css("margin-left", flexBtnMargin + "px");
                $(".flex-caption-bottom-right-01 .btn, .flex-caption-bottom-right-02 .btn, .flex-caption-middle-right .btn, .flex-caption-top-right .btn").css("margin-right", flexBtnMargin + "px");

                var flexHeightScale = flexScale*0.333;

                if ($(window).width() <= 440) {
                    var flexBottom1 = flexHeightScale*0.5;
                    var flexBottom2 = flexHeightScale*0.35;
                    var flexBottom3 = flexHeightScale*0.15;
                    var flexTop = 0;
                } else if (($(window).width() > 440) && ($(window).width() <= 1200)) {
                    var flexBottom1 = flexHeightScale*0.7;
                    var flexBottom2 = flexHeightScale*0.6;
                    var flexBottom3 = flexHeightScale*0.3;
                    var flexTop = flexHeightScale*0.005;
                } else {
                    var flexBottom1 = flexHeightScale*0.8;
                    var flexBottom2 = flexHeightScale*0.6;
                    var flexBottom3 = flexHeightScale*0.4;
                    var flexTop = flexHeightScale*0.005;
                };

                $(".flex-caption-bottom-left-01, .flex-caption-bottom-right-01, .flex-caption-bottom-middle-01").css("top", flexBottom1 + "px");
                $(".flex-caption-bottom-left-02, .flex-caption-bottom-right-02, .flex-caption-bottom-middle-02").css("top", flexBottom2 + "px");
                $(".flex-caption-middle-left, .flex-caption-middle-right, .flex-caption-middle").css("top", flexBottom3 + "px");
                $(".flex-caption-top-left, .flex-caption-top-right, .flex-caption-top-middle").css("top", + flexTop + "px");
                $(".flex-img-middle .flex-img-wrapper, .flex-img-middle-left .flex-img-wrapper, .flex-img-middle-right .flex-img-wrapper").css("top", flexHeightScale*0.3 + "px" );
                $(".flex-img-bottom-left .flex-img-wrapper, .flex-img-bottom-right .flex-img-wrapper, .flex-img-bottom-middle .flex-img-wrapper").css("top", flexHeightScale*0.55 + "px" );

                var flexOverlayWidth = flexScale;
                var flexOverlayHeight = flexHeightScale;

                $(".flex-overlay").css("width", flexOverlayWidth + "px");
                $(".flex-overlay").css("height", flexOverlayHeight + "px");

                if ($(window).width() <= 720){
                    $(".flexslider br").hide();
                } else{
                    $(".flexslider br").show();
                };
            }

            flexSliderResize();

            setTimeout(flexSliderResize, 100);

            $(window).resize(function(){
                flexSliderResize();
            })
            // ./FlexSlider Scale //

            // DATATABLES //
            $('#dataTables-example, #dataTables, .dataTables').dataTable( {
                "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
                "language": {
                    "lengthMenu": "_MENU_ Resultados por página",
                    "zeroRecords": "Nenhum resultado encontrado",
                    "info": "Mostrando _PAGE_ de _PAGES_",
                    "infoEmpty": "Sem registros disponíveis",
                    "infoFiltered": "(filtrado de _MAX_ registros)",
                    "sSearch": "Filtro:  ",
                    "paginate": {
                        "previous": "<i class='icon-seta-esquerda'></i>",
                        "next": "<i class='icon-seta-direita'></i>"
                    }
                },
            });

            // CONFIRMATION MODAL //
            $(document).on("click", ".delete-confirmation", function(){
                var itemId      = $(this).attr("id");
                var itemNome    = $(this).attr("data-delete-nome");
                var itemPreview = $(this).attr("data-delete-preview");
                var itemDeleteHref    = $(this).attr("data-delete-href");
                function itemImg(){
                    if (itemPreview == null) {
                        return "";
                    } else {
                        return "<img class='img-responsive' src=" + itemPreview + " />"
                    };
                }

                var mensagem    = "<p>O item <strong>" + itemNome + "</strong> será excluído!</p>" + itemImg();

                bootbox.confirm(mensagem, function(resposta) {
                    if (resposta == true) {
                        var location = itemDeleteHref + itemId;
                        window.location.href= location;
                    };
                });
            });
        })
    </script>
  </body>
</html>
